vagrant@vagrant-ubuntu-trusty-64:~/devstack$ keystone token-get 
+-----------+----------------------------------+
|  Property |              Value               |
+-----------+----------------------------------+
|  expires  |       2014-11-12T08:03:27Z       |
|     id    | 6d3b8d69cbb945b59ffb221da18b8125 |
| tenant_id | f1bc7ac10ba84681826b000326e6aef9 |
|  user_id  | 841685a33c8b40ca8adf110c3b5cbf6e |
+-----------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ . openrc admin admin
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role create jio_admin
+-------+----------------------------------+
| Field | Value                            |
+-------+----------------------------------+
| id    | c96b7985f7f94b388c4e6a37269d137a |
| name  | jio_admin                        |
+-------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role create tenant_admin
+-------+----------------------------------+
| Field | Value                            |
+-------+----------------------------------+
| id    | 8ed1261c6d984740ac998fd17afce7bc |
| name  | tenant_admin                     |
+-------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack project create myproject
+-------------+----------------------------------+
| Field       | Value                            |
+-------------+----------------------------------+
| description | None                             |
| enabled     | True                             |
| id          | 287bd2d1b52d4273b92a87ad636e2bd1 |
| name        | myproject                        |
+-------------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ #openstack role add --project myproject --user 
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user create myuser
+----------+----------------------------------+
| Field    | Value                            |
+----------+----------------------------------+
| email    | None                             |
| enabled  | True                             |
| id       | 44da8d9a5576445e9e0195add2caec49 |
| name     | myuser                           |
| username | myuser                           |
+----------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role add --project myproject --user myuser jio_admin
+-------+----------------------------------+
| Field | Value                            |
+-------+----------------------------------+
| id    | c96b7985f7f94b388c4e6a37269d137a |
| name  | jio_admin                        |
+-------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role assignment list
ERROR: openstack Unknown command ['role', 'assignment', 'list']
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user role list
+----------------------------------+----------+---------+-------+
| ID                               | Name     | Project | User  |
+----------------------------------+----------+---------+-------+
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_ | admin   | admin |
| f45e7f5383f6476b9518bfe35072e97c | admin    | admin   | admin |
+----------------------------------+----------+---------+-------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user role list --project myproject

vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user role list --project myproject --user myuser
usage: openstack user role list [-h] [-f {csv,html,json,table,yaml}]
                                [-c COLUMN] [--max-width <integer>]
                                [--quote {all,minimal,none,nonnumeric}]
                                [--project <project>]
                                [<user>]
openstack user role list: error: unrecognized arguments: --user
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user role list --project myproject myuser
+----------------------------------+-----------+-----------+--------+
| ID                               | Name      | Project   | User   |
+----------------------------------+-----------+-----------+--------+
| c96b7985f7f94b388c4e6a37269d137a | jio_admin | myproject | myuser |
+----------------------------------+-----------+-----------+--------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user role ^C
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role create member
ERROR: openstack Conflict occurred attempting to store role - Duplicate Entry (HTTP 409)
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 8ed1261c6d984740ac998fd17afce7bc | tenant_admin  |
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_      |
| b83d35a2881248c3a2496d236393f71c | service       |
| bdc29f430b53487ba4825fafcbf198f1 | Member        |
| bfd1ffbd7d094c8fb1fd89eeb314cf5a | anotherrole   |
| c96b7985f7f94b388c4e6a37269d137a | jio_admin     |
| d25ac157d8144293afcfb14cf3fbfedf | ResellerAdmin |
| f45e7f5383f6476b9518bfe35072e97c | admin         |
+----------------------------------+---------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role delete Member
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role create member
+-------+----------------------------------+
| Field | Value                            |
+-------+----------------------------------+
| id    | 07cd1313980d4d1f853b646a385fa038 |
| name  | member                           |
+-------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 07cd1313980d4d1f853b646a385fa038 | member        |
| 8ed1261c6d984740ac998fd17afce7bc | tenant_admin  |
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_      |
| b83d35a2881248c3a2496d236393f71c | service       |
| bfd1ffbd7d094c8fb1fd89eeb314cf5a | anotherrole   |
| c96b7985f7f94b388c4e6a37269d137a | jio_admin     |
| d25ac157d8144293afcfb14cf3fbfedf | ResellerAdmin |
| f45e7f5383f6476b9518bfe35072e97c | admin         |
+----------------------------------+---------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user create mytenantadmin
+----------+----------------------------------+
| Field    | Value                            |
+----------+----------------------------------+
| email    | None                             |
| enabled  | True                             |
| id       | 9e1b62254a3a4ff5bde6703e1c23a51c |
| name     | mytenantadmin                    |
| username | mytenantadmin                    |
+----------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role add --project myproject --user mytenantadmin tenant_admin
+-------+----------------------------------+
| Field | Value                            |
+-------+----------------------------------+
| id    | 8ed1261c6d984740ac998fd17afce7bc |
| name  | tenant_admin                     |
+-------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user create mymember
+----------+----------------------------------+
| Field    | Value                            |
+----------+----------------------------------+
| email    | None                             |
| enabled  | True                             |
| id       | 461d36d6ebf24d29b5c4c4caffbb3dd3 |
| name     | mymember                         |
| username | mymember                         |
+----------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role add --project myproject --user mymember member
+-------+----------------------------------+
| Field | Value                            |
+-------+----------------------------------+
| id    | 07cd1313980d4d1f853b646a385fa038 |
| name  | member                           |
+-------+----------------------------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack role list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 07cd1313980d4d1f853b646a385fa038 | member        |
| 8ed1261c6d984740ac998fd17afce7bc | tenant_admin  |
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_      |
| b83d35a2881248c3a2496d236393f71c | service       |
| bfd1ffbd7d094c8fb1fd89eeb314cf5a | anotherrole   |
| c96b7985f7f94b388c4e6a37269d137a | jio_admin     |
| d25ac157d8144293afcfb14cf3fbfedf | ResellerAdmin |
| f45e7f5383f6476b9518bfe35072e97c | admin         |
+----------------------------------+---------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 44da8d9a5576445e9e0195add2caec49 | myuser        |
| 461d36d6ebf24d29b5c4c4caffbb3dd3 | mymember      |
| 841685a33c8b40ca8adf110c3b5cbf6e | demo          |
| 9e1b62254a3a4ff5bde6703e1c23a51c | mytenantadmin |
| a59160fc912342268300cbbb7a10e3e5 | admin         |
+----------------------------------+---------------+
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user delete admin
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack user delete demo
ERROR: openstack Authentication failure: Could not find user: admin (Disable debug mode to suppress these details.) (HTTP 401)
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack project list
ERROR: openstack Authentication failure: Could not find user: admin (Disable debug mode to suppress these details.) (HTTP 401)
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ env | grep OS
OS_REGION_NAME=RegionOne
OS_IDENTITY_API_VERSION=2.0
OS_PASSWORD=nova
OS_AUTH_URL=http://10.0.2.15:5000/v2.0
OS_USERNAME=admin
OS_TENANT_NAME=admin
OS_VOLUME_API_VERSION=2
OS_CACERT=/opt/stack/data/CA/int-ca/ca-chain.pem
OS_NO_CACHE=1
LESSCLOSE=/usr/bin/lesspipe %s %s
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ export OS_TENANT_NAME=mytenant
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ export OS_TENANT_NAME=mytenant^C
vagrant@vagrant-ubuntu-trusty-64:~/devstack$ openstack project list
ERROR: openstack Authentication failure: Could not find user: admin (Disable debug mode to suppress these details.) (HTTP 401)

